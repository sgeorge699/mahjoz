import{b as d,c as P}from"./chunk-SVGK54OX.mjs";import{C as Y,V as Z,c as w,l as M,t as H,u as X,z as e}from"./chunk-26TY5ZW3.mjs";import{m as y,v as b}from"./chunk-7RU5A6JU.mjs";var ke=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,De=/^https?:\/\/([^\/]+)[^\?]+\??(.+)$/,G=t=>ke.test(String(t).toLowerCase()),$e=t=>{var a;let[,c,C]=(a=t.replace("&amp;","&").match(De))!==null&&a!==void 0?a:[null,null,null];return[c,C?new URLSearchParams(C):null]};function Ve(t){try{return!!new URL(t)}catch{}try{return!!new URL(`https://${t}`)}catch{}return!1}var K="v1",Q=Z(function({service:a,redirectAs:c,mailchimpURL:C,loopsID:ee,formsparkID:W,getwaitlistAPI:te,input:n,button:o,font:oe,layout:ae,link:F,gap:ie,style:le,onSubmit:i}){let[u,L]=b(""),[re,h]=b(!1),[v,s]=b(!1),[de,j]=b(!1),{paddingPerSide:I,paddingTop:N,paddingRight:T,paddingBottom:ne,paddingLeft:se,padding:g,borderRadius:x,borderObject:E,focusObject:k,shadowObject:D,height:A,fixedHeight:_}=n,{buttonPaddingPerSide:pe,buttonPaddingTop:ce,buttonPaddingRight:ue,buttonPaddingBottom:he,buttonPaddingLeft:fe,buttonPadding:$}=o,me=I?`${N}px ${o.isDocked?T+o.widthWhenDocked:T}px ${ne}px ${se}px`:`${g}px ${o.isDocked?g+o.widthWhenDocked:g}px ${g}px ${g}px`,ge=pe?`${o.isDocked?0:ce}px ${ue}px ${o.isDocked?0:he}px ${fe}px`:`${o.isDocked?0:$}px ${$}px ${o.isDocked?0:$}px ${$}px`,z=X(),V=()=>{if(s(!1),j(!1),L(""),c==="link"&&F&&!re){let[l,p]=F.split("#"),{routeId:r,pathVariables:f}=H(z.routes,l);if(r&&z.navigate(r,p,f),Ve(F))return h(!0),m.start("error"),!1}},S=y(l=>l===""||!G(l)?(h(!0),m.start("error"),!1):!0,[G]),ye=y(l=>{h(!1),L(l.target.value)},[]),we=y(l=>{j(!0)},[]),Ce=y(l=>{j(!1),h(!1)},[]),xe=y(l=>{if(l.preventDefault(),!v){if(s(!0),a==="mailchimp"){let[p,r]=$e(C);if(!S(u)||!p||!r){s(!1);return}r.set("MERGE0",u),fetch(`https://${p}/subscribe/post`,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:r.toString()}).then(f=>{V(),c==="overlay"&&i?.()}).catch(f=>{console.error(f),s(!1),h(!0),m.start("error")})}if(a==="loops"){if(!S(u)){s(!1);return}let p=`email=${encodeURIComponent(u)}`;fetch(`https://app.loops.so/api/newsletter-form/${ee}`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:p}).then(()=>{V(),c==="overlay"&&i?.()}).catch(r=>{console.error(r),s(!1),h(!0),m.start("error")})}if(a==="formspark"){if(!S(u)){s(!1);return}let p=new FormData(l.target),r=Object.fromEntries(p.entries());fetch(`https://submit-form.com/${W}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(r)}).then(()=>{V(),i?.()}).catch(f=>{console.error(f),s(!1),h(!0),m.start("error")})}if(a==="getwaitlist"){if(!S(u)){s(!1);return}let p=new FormData(l.target),r=Object.fromEntries(p.entries());fetch(`https://api.getwaitlist.com/api/v1
/waiter/`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(r)}).then(()=>{V(),c==="overlay"&&i?.()}).catch(f=>{console.error(f),s(!1),h(!0),m.start("error")})}}},[C,W,u,i,S,v]),m=M(),U=n.focusObject?`inset 0 0 0 ${k.focusWidthFrom}px ${k.focusColor}`:null,Se=n.focusObject?`inset 0 0 0 ${k.focusWidthTo}px ${k.focusColor}`:null,O=n.shadowObject?`${D.shadowX}px ${D.shadowY}px ${D.shadowBlur}px ${D.shadowColor}`:null,B=n.borderObject?`inset 0 0 0 ${E.borderWidth}px ${E.borderColor}`:null,be={default:{x:0},error:{x:[0,-4,4,0],transition:{duration:.2}}},ve={default:{boxShadow:R(U,O,B)},focused:{boxShadow:R(Se,O,B)}};return d(w.div,{style:{...le,...Pe,"--framer-custom-placeholder-color":n.placeholderColor},variants:be,animate:m,children:P("form",{style:{width:"100%",height:"auto",display:"flex",position:"relative",flexDirection:ae==="vertical"?"column":"row",color:o.color,gap:o.isDocked?0:ie},onSubmit:xe,method:"POST",children:[a==="getwaitlist"&&d("input",{type:"hidden",name:"api_key",value:te}),d(w.input,{type:"email",name:"email",placeholder:n.placeholder,value:u,className:`${K} framer-custom-input`,onChange:ye,onFocus:we,onBlur:Ce,autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",spellCheck:"false",style:{...q,padding:me,borderRadius:x,fontSize:16,...oe,background:n.fill,height:A?"auto":_,color:n.color,boxShadow:R(U,O,B)},variants:ve,initial:!1,animate:de?"focused":"default",transition:{duration:.3}}),!o.shouldAppear&&v&&d(J,{shouldAppear:o.shouldAppear,paddingPerSide:I,paddingTop:N,paddingRight:T,padding:g,color:n.color}),o.shouldAppear&&P("div",{style:{position:o.isDocked?"absolute":"relative",top:o.isDocked?o.insetWhenDocked:0,right:o.isDocked?o.insetWhenDocked:0,bottom:o.isDocked?o.insetWhenDocked:0},children:[d(w.input,{type:"submit",value:o.label,style:{...q,width:o.isDocked?o.widthWhenDocked:"100%",height:A?"100%":_,cursor:"pointer",padding:ge,borderRadius:o.isDocked?x-o.insetWhenDocked:x,fontWeight:o.fontWeight,fontSize:16,...o.buttonFont,background:o.fill,color:o.color,zIndex:1,boxShadow:Fe(o)}}),v&&d("div",{style:{borderRadius:o.isDocked?x-o.insetWhenDocked:x,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",inset:0,zIndex:2,color:o.color,background:o.fill},children:d(J,{color:o.color})})]})]})})},[`.${K}.framer-custom-input::placeholder { color: var(--framer-custom-placeholder-color) !important; }`]),J=t=>{let a=t.shouldAppear?{}:{position:"absolute",top:"calc(50% - 8px)",right:t.paddingPerSide?t.paddingRight:t.padding};return d(w.div,{style:{height:16,width:16,...a},initial:{rotate:0},animate:{rotate:360},transition:{duration:1,repeat:1/0},children:d(w.div,{initial:{scale:0},animate:{scale:1},children:P("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",style:{fill:"currentColor",color:t.color},children:[d("path",{d:"M 8 0 C 3.582 0 0 3.582 0 8 C 0 12.419 3.582 16 8 16 C 12.418 16 16 12.419 16 8 C 15.999 3.582 12.418 0 8 0 Z M 8 14 C 4.687 14 2 11.314 2 8 C 2 4.687 4.687 2 8 2 C 11.314 2 14 4.687 14 8 C 14 11.314 11.314 14 8 14 Z",fill:"currentColor",opacity:"0.2"}),d("path",{d:"M 8 0 C 12.418 0 15.999 3.582 16 8 C 16 8 16 9 15 9 C 14 9 14 8 14 8 C 14 4.687 11.314 2 8 2 C 4.687 2 2 4.687 2 8 C 2 8 2 9 1 9 C 0 9 0 8 0 8 C 0 3.582 3.582 0 8 0 Z",fill:"currentColor"})]})})})};Y(Q,{service:{title:"Service",type:e.Enum,options:["loops","formspark","mailchimp","getwaitlist"],optionTitles:["Loops","FormSpark","MailChimp","Get Waitlist"],defaultValue:"loops"},mailchimpURL:{title:"URL",placeholder:"https://***.us6.list-manage.com/subscribe/post?u=***",type:e.String,hidden:t=>t.service!=="mailchimp"},loopsID:{title:"ID",placeholder:"klm2jxy0i98abzr01pq7defg5",type:e.String,hidden:t=>t.service!=="loops"},formsparkID:{title:"ID",placeholder:"7PbPpGN3",type:e.String,hidden:t=>t.service!=="formspark"},getwaitlistAPI:{title:"ID",placeholder:"9148",type:e.String,hidden:t=>t.service!=="getwaitlist"},redirectAs:{title:"Success",type:e.Enum,options:["link","overlay"],optionTitles:["Open Link","Show Overlay"],defaultValue:"link"},link:{title:"Redirect",type:e.Link,hidden:t=>t.redirectAs==="overlay"},onSubmit:{title:"Submit",type:e.EventHandler,hidden:t=>t.redirectAs==="link"},layout:{title:"Layout",type:e.Enum,options:["horizontal","vertical"],displaySegmentedControl:!0,hidden:t=>t.button.isDocked},font:{type:e.Font,title:"Font",controls:"extended"},input:{title:"Input",type:e.Object,controls:{placeholder:{title:"Placeholder",type:e.String,defaultValue:"name@email.com"},placeholderColor:{title:" ",type:e.Color,defaultValue:"rgba(0, 0, 0, 0.3)"},fill:{title:"Fill",type:e.Color,defaultValue:"#EBEBEB"},color:{title:"Text",type:e.Color,defaultValue:"#000"},height:{title:"Height",type:e.Boolean,enabledTitle:"Auto",disabledTitle:"Fixed"},fixedHeight:{title:" ",type:e.Number,displayStepper:!0,min:0,defaultValue:50,hidden:t=>t.height},padding:{title:"Padding",type:e.FusedNumber,toggleKey:"paddingPerSide",toggleTitles:["Padding","Padding per side"],defaultValue:15,valueKeys:["paddingTop","paddingRight","paddingBottom","paddingLeft"],valueLabels:["T","R","B","L"],min:0},borderRadius:{title:"Radius",type:e.Number,displayStepper:!0,min:0,defaultValue:8},focusObject:{type:e.Object,title:"Focus",optional:!0,controls:{focusWidthFrom:{title:"From",type:e.Number,displayStepper:!0,defaultValue:0},focusWidthTo:{title:"To",type:e.Number,displayStepper:!0,defaultValue:2},focusColor:{title:"Color",type:e.Color,defaultValue:"#09F"}}},borderObject:{type:e.Object,title:"Border",optional:!0,controls:{borderWidth:{title:"Width",type:e.Number,displayStepper:!0,defaultValue:1},borderColor:{title:"Color",type:e.Color,defaultValue:"rgba(200,200,200,0.5)"}}},shadowObject:{type:e.Object,title:"Shadow",optional:!0,controls:{shadowColor:{title:"Color",type:e.Color,defaultValue:"rgba(0,0,0,0.25)"},shadowX:{title:"Shadow X",type:e.Number,min:-100,max:100,defaultValue:0},shadowY:{title:"Shadow Y",type:e.Number,min:-100,max:100,defaultValue:2},shadowBlur:{title:"Shadow B",type:e.Number,min:0,max:100,defaultValue:4}}}}},button:{title:"Button",type:e.Object,controls:{shouldAppear:{title:"Show",type:e.Boolean,defaultValue:!0},label:{title:"Label",type:e.String,defaultValue:"Subscribe"},buttonFont:{type:e.Font,title:"Font",controls:"extended"},fill:{title:"Fill",type:e.Color,defaultValue:"#333"},color:{title:"Text",type:e.Color,defaultValue:"#FFF"},isDocked:{title:"Docked",type:e.Boolean,defaultValue:!1},widthWhenDocked:{title:"Width",type:e.Number,min:0,defaultValue:100,displayStepper:!0,hidden:t=>!t.isDocked},insetWhenDocked:{title:"Inset",type:e.Number,min:0,defaultValue:5,displayStepper:!0,hidden:t=>!t.isDocked},buttonPadding:{title:"Padding",type:e.FusedNumber,toggleKey:"buttonPaddingPerSide",toggleTitles:["Padding","Padding per side"],defaultValue:15,valueKeys:["buttonPaddingTop","buttonPaddingRight","buttonPaddingBottom","buttonPaddingLeft"],valueLabels:["T","R","B","L"],min:0},buttonShadow:{type:e.Object,title:"Shadow",optional:!0,controls:{shadowColor:{title:"Color",type:e.Color,defaultValue:"rgba(0,0,0,0.25)"},shadowX:{title:"Shadow X",type:e.Number,min:-100,max:100,defaultValue:0},shadowY:{title:"Shadow Y",type:e.Number,min:-100,max:100,defaultValue:2},shadowBlur:{title:"Shadow B",type:e.Number,min:0,max:100,defaultValue:4}}}}},gap:{title:"Gap",type:e.Number,displayStepper:!0,min:0,defaultValue:10,hidden:t=>t.button.isDocked}});var q={WebkitAppearance:"none",appearance:"none",width:"100%",height:"auto",outline:"none",border:"none"},Pe={position:"relative",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"};function Fe(t){return t.buttonShadow?`${t.buttonShadow.shadowX}px ${t.buttonShadow.shadowY}px ${t.buttonShadow.shadowBlur}px ${t.buttonShadow.shadowColor}`:"none"}function R(...t){let a=[];return t.forEach(c=>c&&a.push(c)),a.join(", ")}var Ie=Q;export{Ie as a};
//# sourceMappingURL=chunk-YOKEYBUQ.mjs.map
